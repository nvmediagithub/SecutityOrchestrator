<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>SecurityOrchestrator — оркестрация и анализ безопасности API</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&family=JetBrains+Mono:wght@400;600&display=swap" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
  <script>
    mermaid.initialize({ startOnLoad: true, theme: 'default' });
  </script>
  <style>
    body {
      margin: 0;
      font-family: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: radial-gradient(circle at top left, #ffffff 0, #f7f7fb 40%, #eef1ff 100%);
      color: #202124;
    }
    .slides {
      display: flex;
      flex-direction: column;
      align-items: stretch;
      padding: 3rem 0;
    }
    .slide {
      box-sizing: border-box;
      width: 100%;
      max-width: 1100px;
      min-height: 80vh;
      padding: 3rem 4rem;
      margin: 0 auto 3rem auto;
      background: #ffffff;
      border-radius: 24px;
      box-shadow: 0 18px 45px rgba(15, 23, 42, 0.15);
      border: 1px solid rgba(15, 23, 42, 0.04);
      display: block;
      overflow: visible;
      position: relative;
    }
    h1, h2 {
      margin-top: 0;
      color: #111827;
    }
    h1 {
      font-size: 2.4rem;
      letter-spacing: -0.03em;
    }
    h2 {
      font-size: 1.8rem;
      letter-spacing: -0.02em;
    }
    ul {
      font-size: 1.1rem;
      line-height: 1.5;
      margin-top: 1.5rem;
      padding-left: 1.3rem;
    }
    .subtitle {
      color: #4f46e5;
      margin-top: 0.5rem;
      font-weight: 500;
    }
    .code {
      font-family: 'JetBrains Mono', Menlo, Monaco, "Courier New", monospace;
      background: #e8eaed;
      padding: 0.5rem 0.75rem;
      border-radius: 4px;
      font-size: 0.9rem;
      display: inline-block;
    }
    .highlight {
      color: #155fa0;
    }
    footer {
      margin-top: 2.5rem;
      text-align: right;
      font-size: 0.8rem;
      color: #5f6368;
    }
    .mermaid {
      background: #f1f3f4;
      border-radius: 6px;
      padding: 1rem;
      border: 1px solid #e0e0e0;
    }
    .image-row {
      display: flex;
      gap: 1rem;
      flex-wrap: wrap;
    }
    .image-row img {
      flex: 1;
      min-width: 260px;
      max-height: 50vh;
    }
    .screenshot {
      max-width: 100%;
      border-radius: 12px;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.12);
      margin-top: 1rem;
      border: 1px solid rgba(15, 23, 42, 0.05);
      max-height: 50vh;
    }
    @media print {
      @page {
        size: A4 landscape;
        margin: 12mm;
      }
      body {
        background: #fff;
      }
      .slides {
        padding: 0;
      }
      .slide {
        min-height: auto;
        max-width: none;
        margin: 0 0 1.5rem;
        padding: 1.5rem;
        border-radius: 0;
        box-shadow: none;
        border: 1px solid #d1d5db;
        page-break-after: always;
        break-inside: avoid;
      }
      .slide:last-child {
        page-break-after: auto;
      }
      .image-row,
      .screenshot,
      .image-row img {
        page-break-inside: avoid;
      }
    }
  </style>
</head>
<body>
<div class="slides">
  <!-- Slide 1 -->
  <section class="slide active">
    <h1>SecurityOrchestrator</h1>
    <p class="subtitle">Платформа оркестрации и анализа безопасности API</p>
    <ul>
      <li>Единая платформа для BPMN‑процессов, OpenAPI и AI‑тестов</li>
      <li>Java backend с feature‑first архитектурой + Flutter‑клиент</li>
      <li>Фокус на онлайн‑демо Swagger/OpenAPI Security Analysis</li>
    </ul>
    <footer>1 / 18</footer>
  </section>

  <!-- Slide 2 -->
  <section class="slide">
    <h2>Проблема, на которую отвечаем</h2>
    <ul>
      <li>Ручное и фрагментированное тестирование безопасности API и бизнес‑процессов</li>
      <li>Swagger‑спецификации есть, но не дают простой оценки «насколько безопасен API?»</li>
      <li>Разрозненные инструменты, нет единого сценария и единой картины рисков</li>
      <li>Команде трудно быстро показать бизнесу понятный, визуальный отчёт по безопасности</li>
    </ul>
    <footer>2 / 18</footer>
  </section>

  <!-- Slide 3 -->
  <section class="slide">
    <h2>Архитектура платформы SecurityOrchestrator</h2>
    <div class="mermaid">
graph TB
    subgraph "Flutter Frontend"
        FE[Flutter App<br/>Feature-first архитектура]
    end

    subgraph "Java Backend (Feature Modules)"
        BPMN[BPMN Processing Feature]
        OPENAPI[OpenAPI / API Security Feature]
        LLM[LLM &amp; AI Test Data]
        ORCH[Workflow Orchestration]
        MON[Monitoring &amp; Reporting]
        CORE[Shared Core &amp; Cross-cutting]
    end

    subgraph "Python Microservices"
        API_ANALYSIS[api-analysis-service<br/>Swagger/OpenAPI Analysis]
        VULN_API[vulnerable-api-service<br/>демо-API с уязвимостями]
    end

    subgraph "Target Systems & Models"
        TARGETS[Test Targets]
        MODELS[Local AI Models]
    end

    FE --> OPENAPI
    FE --> BPMN
    FE --> ORCH

    OPENAPI --> API_ANALYSIS
    API_ANALYSIS --> VULN_API

    OPENAPI --> CORE
    BPMN --> CORE
    LLM --> CORE
    ORCH --> CORE
    MON --> CORE

    OPENAPI --> TARGETS
    BPMN --> TARGETS
    LLM --> MODELS

    style OPENAPI fill:#f3e5f5
    style BPMN fill:#e1f5fe
    style LLM fill:#fff3e0
    style ORCH fill:#e8f5e8
    style MON fill:#fce4ec
    style API_ANALYSIS fill:#f3e5f5
    style VULN_API fill:#ffe6cc
    </div>
    <footer>3 / 18</footer>
  </section>

  <!-- Slide 4 -->
  <section class="slide">
    <h2>Swagger/OpenAPI Security Analysis в контексте</h2>
    <div class="mermaid">
graph TB
    subgraph "Flutter App"
        UI[API Analysis Feature<br/>ApiAnalysisCard]
    end

    subgraph "Backend services"
        API_ANALYSIS[api-analysis-service<br/>FastAPI, порт 8001]
        VULN_API[vulnerable-api-service<br/>FastAPI, порт 8003]
    end

    subgraph "AI & Shared Utilities"
        OPENROUTER[OpenRouter LLM API]
        COMMON[security_orchestrator_common<br/>shared utilities]
    end

    UI --> API_ANALYSIS
    API_ANALYSIS --> VULN_API
    API_ANALYSIS --> OPENROUTER
    API_ANALYSIS --> COMMON

    style API_ANALYSIS fill:#f3e5f5
    style VULN_API fill:#ffe6cc
    style OPENROUTER fill:#e1f5fe
    style COMMON fill:#e8f5e8
    </div>
    <footer>4 / 18</footer>
  </section>

  <!-- Slide 5 -->
  <section class="slide">
    <h2>Путь пользователя: от URL до отчёта</h2>
    <div class="mermaid">
sequenceDiagram
    participant User as User (QA/Sec)
    participant FE as Flutter App
    participant API as api-analysis-service
    participant VULN as vulnerable-api-service
    participant LLM as OpenRouter LLM

    User->>FE: Ввод swagger_url уязвимого API
    FE->>API: POST /swagger-analysis/analyze
    API->>VULN: GET /openapi.json
    VULN-->>API: OpenAPI спецификация
    API->>API: OpenAPIParser — разбор и валидация
    API->>LLM: analyze_api_security(openapi_spec)
    LLM-->>API: Детальный AI‑отчёт
    API-->>FE: Security score, issues, рекомендации
    FE-->>User: Визуальный отчёт по безопасности API
    </div>
    <footer>5 / 18</footer>
  </section>

  <!-- Slide 6 -->
  <section class="slide">
    <h2>Внутренняя архитектура api-analysis-service</h2>
    <div class="mermaid">
graph TD
    subgraph "api-analysis-service"
        subgraph "api/"
            ROUTES[routes/swagger_analysis_routes.py]
            MODELS[models/swagger_analysis_models.py]
        end

        subgraph "services/"
            PARSER[OpenAPIParser<br/>openapi_parser.py]
            ANALYSIS[OpenAPIAnalysisService<br/>openapi_analysis_service.py]
            AI_ANALYZER[AISecurityAnalyzer<br/>ai_security_analyzer.py]
        end

        subgraph "core/"
            CONFIG[config.py<br/>env, OpenRouter key]
            LOGGING[SECURITY_SETUP.md<br/>logging &amp; settings]
        end
    end

    ROUTES --> MODELS
    ROUTES --> ANALYSIS
    ANALYSIS --> PARSER
    ANALYSIS --> AI_ANALYZER
    ANALYSIS --> CONFIG

    style ROUTES fill:#e1f5fe
    style ANALYSIS fill:#f3e5f5
    style PARSER fill:#fff3e0
    style AI_ANALYZER fill:#fce4ec
    </div>
    <footer>6 / 18</footer>
  </section>

  <!-- Slide 7 -->
  <section class="slide">
    <h2>Ключевая логика анализа спецификации</h2>
    <ul>
      <li><span class="code">OpenAPIParser</span> — загрузка и разбор JSON/YAML по <span class="code">swagger_url</span></li>
      <li>Валидация структуры OpenAPI, извлечение эндпойнтов, методов, схем и security‑схем</li>
      <li>Подсчёт статистики: всего, защищённых, незащищённых, <span class="code">deprecated</span> эндпойнтов</li>
      <li>Формирование нормализованного представления API для последующего AI‑анализа</li>
    </ul>
    <footer>7 / 18</footer>
  </section>

  <!-- Slide 8 -->
  <section class="slide">
    <h2>AI‑анализ безопасности через OpenRouter</h2>
    <ul>
      <li><span class="code">OpenRouterClient.analyze_api_security</span> получает текст спецификации</li>
      <li>Используемая модель (например, <span class="code">anthropic/claude-3.5-sonnet</span>) оценивает:</li>
      <li>— аутентификацию и авторизацию, экспозицию данных, валидацию входных данных</li>
      <li>— конфигурационные проблемы: HTTP, rate limiting, debug‑эндпойнты и т.п.</li>
      <li>Результат: <span class="code">security_score</span> 0–100, список issues и детальные рекомендации</li>
    </ul>
    <footer>8 / 18</footer>
  </section>

  <!-- Slide 9 -->
  <section class="slide">
    <h2>Интеграция с Flutter‑клиентом</h2>
    <ul>
      <li>Фича <span class="code">lib/features/api_analysis/</span> с разделением на domain/data/presentation</li>
      <li><span class="code">ApiAnalysisRepositoryImpl</span> и remote datasource для вызова сервиса</li>
      <li><span class="code">ApiAnalysisEntity</span> отражает <span class="code">SwaggerAnalysisResponse</span> бэкенда</li>
      <li><span class="code">ApiAnalysisCard</span> показывает score, проблемы, рекомендации и статистику API</li>
    </ul>
    <footer>9 / 18</footer>
  </section>

  <!-- Slide 10 -->
  <section class="slide">
    <h2>Ценность решения и зрелость</h2>
    <ul>
      <li>Автоматический, воспроизводимый анализ Swagger/OpenAPI спецификаций с AI‑подсказками</li>
      <li>Прозрачный security score и понятные отчёты для команды и бизнеса</li>
      <li>Интеграция с существующей платформой SecurityOrchestrator и BPMN‑оркестрацией</li>
      <li>Бэкенд переведён на feature‑first архитектуру, выделены отдельные Python‑сервисы</li>
    </ul>
    <footer>10 / 18</footer>
  </section>

  <!-- Slide 11: Главный экран -->
  <section class="slide">
    <h2>Интерфейс: главный экран</h2>
    <p class="subtitle">Общий обзор приложения SecurityOrchestrator</p>
    <img src="screens/main.png" alt="Главный экран приложения" class="screenshot">
    <footer>11 / 18</footer>
  </section>

  <!-- Slide 12: Экран анализа API -->
  <section class="slide">
    <h2>Интерфейс: модуль API Analysis</h2>
    <p class="subtitle">Ввод URL, запуск анализа и статус выполнения</p>
    <img src="screens/api_analisys.png" alt="Экран анализа API" class="screenshot">
    <footer>12 / 18</footer>
  </section>

  <!-- Slide 13: BPMN-оркестрация -->
  <section class="slide">
    <h2>Оркестрация BPMN</h2>
    <p class="subtitle">BPMN описывает шаги бизнес-процесса и координирует вызовы</p>
    <img src="screens/bpmn.png" alt="Каркас BPMN-бизнес-процесса" class="screenshot">
    <ul>
      <li>— Компоновка, переходы и правила принимаются из BPMN-диаграммы</li>
      <li>— Каждый шаг запускает HTTP-акции и передаёт контекст в аналитические сервисы</li>
    </ul>
    <footer>13 / 18</footer>
  </section>

  <!-- Slide 14: OpenAPI спецификации -->
  <section class="slide">
    <h2>OpenAPI спецификации</h2>
    <p class="subtitle">Контракты описывают структуры запросов/ответов для генерации тестов</p>
    <img src="screens/openapi.png" alt="Обзор OpenAPI-спецификации" class="screenshot">
    <ul>
      <li>— Автоматическое извлечение URL, методов, параметров и схем</li>
      <li>— На базе спецификации формируются HTTP-запросы и ожидаемые ответы</li>
    </ul>
    <footer>14 / 18</footer>
  </section>

  <!-- Slide 15: Тестирование HTTP-запросов -->
  <section class="slide">
    <h2>Тестирование HTTP-запросов</h2>
    <p class="subtitle">Результаты выполнения шагов и LLM-интерпретация ответов</p>
    <img src="screens/llm_analisys.png" alt="Результаты тестирования HTTP-запросов" class="screenshot">
    <ul>
      <li>— Серия запросов прогоняется прямо в контексте BPMN и OpenAPI</li>
      <li>— В UI отображаются статусы, длительность и тело ответов</li>
    </ul>
    <footer>15 / 18</footer>
  </section>

  <!-- Slide 16: Результаты анализа (1/3) -->
  <section class="slide">
    <h2>Результаты анализа API (1/3)</h2>
    <p class="subtitle">Общая оценка безопасности и краткий итог</p>
    <img src="screens/result0.png" alt="Результаты анализа API — часть 1" class="screenshot">
    <footer>16 / 18</footer>
  </section>

  <!-- Slide 17: Результаты анализа (2/3) -->
  <section class="slide">
    <h2>Результаты анализа API (2/3)</h2>
    <p class="subtitle">Детализация найденных проблем и уровни критичности</p>
    <img src="screens/result1.png" alt="Результаты анализа API — часть 2" class="screenshot">
    <footer>17 / 18</footer>
  </section>

  <!-- Slide 18: Результаты анализа (3/3) + итог -->
  <section class="slide">
    <h2>Результаты анализа и планы</h2>
    <p class="subtitle">Что сделали к полуфиналу и что доделаем к финалу</p>
    <img src="screens/result2.png" alt="Результаты анализа API — часть 3" class="screenshot">
    <ul>
      <li><span class="highlight">К полуфиналу сделано:</span></li>
      <li>— Реализован сервис <span class="code">api-analysis-service</span> и интеграция с OpenRouter</li>
      <li>— Поднято уязвимое демо‑API и настроен полный цикл анализа по Swagger URL</li>
      <li>— Интеграция с Flutter‑клиентом и визуализация security score и отчётов</li>
      <li>— Внедрена работа с BPMN и OpenAPI, бизнес-процессы тестируем через сгенерированные HTTP-запросы</li>
      <li>— Добавлена локализация интерфейса анализа процессов: формы, статусы, кнопки и карточки результатов теперь на русском</li>
      <li><span class="highlight">До финала планируем:</span></li>
      <li>— Добавить кастомные правила (OWASP, compliance‑чеки) и историю анализов</li>
      <li>— Реализовать отчёты (PDF/HTML) и хранение результатов в платформе</li>
      <li>— Глубже связать Swagger‑анализ с BPMN‑оркестрацией и общим risk‑score процессов</li>
    </ul>
    <footer>18 / 18</footer>
  </section>
</div>

<script>
  (function () {
    // Пролистывание стрелками + доступ через прокрутку
    const slides = Array.from(document.querySelectorAll('.slide'));
    let index = 0;

    function scrollToSlide(i) {
      const slide = slides[i];
      if (slide) {
        slide.scrollIntoView({ behavior: 'smooth', block: 'start' });
      }
    }

    document.addEventListener('keydown', (e) => {
      if (e.key === 'ArrowRight' || e.key === 'PageDown' || e.key === ' ') {
        index = Math.min(slides.length - 1, index + 1);
        scrollToSlide(index);
      }
      if (e.key === 'ArrowLeft' || e.key === 'PageUp') {
        index = Math.max(0, index - 1);
        scrollToSlide(index);
      }
    });
  })();
</script>
</body>
</html>
