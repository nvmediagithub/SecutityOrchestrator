# Server Configuration - Port 8090 to avoid conflicts with SimpleLLMTestServer
server.port=8090
server.servlet.context-path=/

# OpenAPI Parsing Service Configuration
openapi.parsing.timeout.seconds=30
openapi.parsing.max.file.size.mb=50
openapi.parsing.allowed.formats=json,yaml,yml
openapi.parsing.retry.attempts=3
openapi.parsing.retry.delay.millis=1000

# OpenAPI Analysis Service Configuration
openapi.analysis.max.concurrent.analyses=5
openapi.analysis.analysis.timeout.minutes=10
openapi.analysis.default.analysis.type=QUICK_SCAN
openapi.analysis.enable.security.checks=true
openapi.analysis.enable.validation.checks=true
openapi.analysis.enable.consistency.checks=true
openapi.analysis.enable.performance.checks=false

# JPA Configuration DISABLED for minimal app
spring.jpa.enabled=false
spring.datasource.enabled=false
spring.main.allow-bean-definition-overriding=true
spring.sql.init.mode=never
# Completely disable JPA and Data JPA
spring.data.jpa.enabled=false
spring.orm.jpa.enabled=false
# Disable JPA auto configuration
spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration
spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration
spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.data.jpa.JpaAuditingAutoConfiguration

# Web Configuration
spring.servlet.multipart.max-file-size=50MB
spring.servlet.multipart.max-request-size=50MB

# Logging Configuration
logging.level.org.example.application.service.openapi=DEBUG
logging.level.org.springframework.web=INFO
logging.level.org.springframework.security=INFO

# Actuator Configuration (for monitoring)
management.endpoints.web.exposure.include=health,info,metrics
management.endpoint.health.show-details=always
management.info.env.enabled=true

# JSON Processing Configuration
spring.jackson.serialization.write_dates_as_timestamps=false
spring.jackson.default-property-inclusion=NON_NULL

# Thread Pool Configuration
spring.task.execution.pool.core-size=5
spring.task.execution.pool.max-size=10
spring.task.execution.pool.queue-capacity=100
spring.task.execution.thread-name-prefix=OpenApi-Analysis-

# Validation Configuration
spring.mvc.throw-exception-if-no-handler-found=true
spring.web.resources.add-mappings=false

# Security Configuration (for development)
spring.security.user.name=admin
spring.security.user.password=admin123
spring.security.user.roles=ADMIN

# CORS Configuration (for frontend integration)
cors.allowed.origins=http://localhost:3000,http://localhost:8080
cors.allowed.methods=GET,POST,PUT,DELETE,OPTIONS
cors.allowed.headers=*
cors.allow.credentials=true

# OpenRouter Configuration
llm.openRouterApiKey=${OPENROUTER_API_KEY:}
llm.openRouterBaseUrl=https://openrouter.ai/api/v1
llm.openRouterReferer=http://localhost:8080
llm.openRouterAppName=SecurityOrchestrator
llm.openRouterTimeout=30
llm.maxRetries=3
llm.connectionPoolSize=10
llm.maxConcurrentRequests=5

# Local LLM Configuration
llm.localModelPath=./models
llm.localServerUrl=http://localhost:11434
llm.localServerPort=11434
llm.localTimeout=300
llm.maxLocalModels=3