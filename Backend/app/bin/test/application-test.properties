# Test Environment Configuration for SecurityOrchestrator

# Database Configuration for Tests
spring.datasource.url=jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE;MODE=MySQL
spring.datasource.driver-class-name=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=
spring.jpa.hibernate.ddl-auto=create-drop
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.H2Dialect

# Test Profile
spring.profiles.active=test

# LLM Configuration for Testing
llm.providers.openrouter.enabled=false
llm.providers.openrouter.api-key=test-key-not-real
llm.providers.openrouter.base-url=https://openrouter.ai/api/v1
llm.providers.openrouter.timeout=10000

llm.providers.onnx.enabled=true
llm.providers.onnx.model-path=/test-models
llm.providers.onnx.max-batch-size=1
llm.providers.onnx.threads=1

# Circuit Breaker Test Configuration
llm.circuit-breaker.enabled=true
llm.circuit-breaker.failure-threshold=5
llm.circuit-breaker.timeout=30000
llm.circuit-breaker.reset-timeout=60000

# Retry Configuration
llm.retry.enabled=true
llm.retry.max-attempts=3
llm.retry.initial-delay=1000
llm.retry.max-delay=60000
lll.retry.multiplier=2.0
llm.retry.timeout=30000

# Rate Limiting
llm.rate-limiting.enabled=true
llm.rate-limiting.requests-per-minute=60
llm.rate-limiting.requests-per-hour=1000
llm.rate-limiting.burst-size=10

# Monitoring Configuration for Tests
monitoring.enabled=true
monitoring.metrics.enabled=true
monitoring.alerts.enabled=true
monitoring.websocket.enabled=false
monitoring.dashboard.enabled=true

# Logging Configuration for Tests
logging.level.org.example=INFO
logging.level.org.springframework=WARN
logging.level.org.hibernate=ERROR
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} - %msg%n

# Test Server Configuration
server.port=0
spring.main.banner-mode=off

# Test Data Configuration
test.data.cleanup.enabled=true
test.data.retention.hours=1

# Performance Test Configuration
test.performance.concurrent-requests=20
test.performance.test-duration.minutes=5
test.performance.load-test.requests=50

# Mock Configuration
mock.llm.responses.enabled=true
mock.llm.responses.response-time.min=100
mock.llm.responses.response-time.max=2000
mock.llm.responses.failure-rate=0.05

# WebSocket Test Configuration
websocket.test.enabled=false
websocket.test.port=0

# Security Test Configuration
security.test.enabled=true
security.test.api-key=test-security-key
security.test.cors.enabled=true

# Test Database Schema
spring.sql.init.mode=embedded
spring.sql.init.schema-locations=classpath:schema-test.sql
spring.sql.init.data-locations=classpath:test-data.sql

# H2 Console (for debugging tests)
spring.h2.console.enabled=false
spring.h2.console.path=/h2-console